# Практика 10. Сетевой уровень

## 1. Wireshark. IP

Отчет по этому заданию находится [здесь](IP.md).

## 2. Go back-N протокол

Проект собирается и запускается с помощью системы `gradle`. Запуск сервера на порту `<port>`:
```
./gradlew server:run --args="<port>"
```

Запуск клиента (в аргументах передаются адрес и порт сервера, а также путь до передаваемого файла):
```
 ./gradlew client:run --args="host port filename"
```

Помимо этого, можно настроить параметры сети в [конфиг-файле](common/src/main/resources/config.yaml):
* `timeoutMillis` -- таймаут по истечении которого отправитель будет повторно слать пакеты (в случае если не пришел ack)
* `dropRate` -- частота моделируемой потери сообщений в сети
* `maxDataSize` -- максимальный размер полезной нагрузки одной дейтаграммы, используемой для передачи файла
* `windowSize` -- размер окна (aka параметр `N` из названия алгоритма)

### Пример работы программы:

#### Клиент:
![image](https://user-images.githubusercontent.com/65076429/236649380-2e7e73b4-2797-4baa-8160-5d4196e3f961.png)

#### Сервер:
![image](https://user-images.githubusercontent.com/65076429/236649375-5726955e-381f-48eb-a07c-e77b87cc0d9b.png)

(Поскольку сервер не может знать, получил ли клиент его последний ack, он в конце еще некоторое время (пропорциональное `timeoutMillis`) ждет повторных пакетов, см. сообщение `Status: Received all 3 packets, waiting for packets that may be resent` в логах).
